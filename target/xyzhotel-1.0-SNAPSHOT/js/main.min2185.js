var navigationArrows=['<div class="icon-wrapper"><div class="svg-icon"><svg width="15" height="25" aria-hidden="true" class="icon-arrow"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-arrow-left"></use> </svg></div></div>','<div class="icon-wrapper"><div class="svg-icon"><svg width="15" height="25" aria-hidden="true" class="icon-arrow"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-arrow-right"></use></svg></div></div>'];function deferload(){$.each($("iframe , img , source"),function(e,a){var t=$(this).data("src");$(this).attr("src",t)})}function hamburgerdrop(e,a,t){e.length&&$(e).click(function(i){i.preventDefault(),i.stopImmediatePropagation(),$(".expand").map(function(e){$(this)[0]!==$(a)[0]&&$(this).toggleClass("expand").stop(!0,!0).animate(t,300)}),$(".open").map(function(a){$(this)[0]!==$(e)[0]&&$(this).toggleClass("open")}),$(this).siblings(".menu-toggle").length?$(".menu-toggle").toggleClass("open"):$(this).toggleClass("open"),$(a).toggleClass("expand").stop(!0,!0).animate(t,300)}),$(document).click(function(i){$(a).is(":visible")&&$(a).prevUntil(".menu-toggle").is(":visible")&&!$(a).is(i.target)&&($(e).toggleClass("open"),$(a).toggleClass("expand").stop(!0,!0).animate(t,300))}),$(a).click(function(e){e.stopPropagation()})}function owlsonrequireddevicesonly(e,a,t){if($(e)[0]){var i=$(e);window.innerWidth<a?i.owlCarousel(t):i.addClass("off"),$(window).resize(function(n){window.innerWidth<a?$(e).hasClass("off")&&(i.owlCarousel(t),i.removeClass("off")):$(e).hasClass("off")||(i.addClass("off").trigger("destroy.owl.carousel"),i.find(".owl-stage-outer").children(":eq(0)").unwrap())})}}function syncedowl(e,a,t,i,n){var r=$(e),l=$(a);flag=!1,duration=300,r.length&&r.owlCarousel(t).on("changed.owl.carousel",function(e){var a;a=e.item.index,l.find(".owl-item").removeClass("synced").eq(a).addClass("synced"),flag||(flag=!0,l.trigger("to.owl.carousel",[e.item.index,duration,!0]),flag=!1)}),l.length&&(l.owlCarousel(i).on("click",".owl-item",function(){r.trigger("to.owl.carousel",[$(this).index(),duration,!0])}).on("changed.owl.carousel",function(e){flag||(flag=!0,r.trigger("to.owl.carousel",[e.item.index,duration,!0]),flag=!1)}),l.find(".owl-item").eq(0).addClass("synced"))}window.matchMedia("(min-width: 1200px)").matches&&$(window).scroll(function(e){$(".response-field-datepicker input , .dp input").datepicker("hide").blur()});var dateArr=[];function call_booking_hotel(e){$.ajax({url:ajaxurl,type:"POST",data:{action:"ibe_hotel_data",hotel_id:e},success:function(e){$("#ibe_hotel_params").html(e)}})}function IbeSubmit(){$(document).find("#ibe-submit").click(function(e){e.preventDefault();var a=document.getElementById("ibe-submit").getAttribute("data-ibe-action"),t=(a="https://reservations.travelclick.com/",0);if($("#rangeestart").length>0)var i=$("#rangeestart").val().trim();if($("#rangeend").length>0)var n=$("#rangeend").val().trim();if($("#usd_hotel_id").length>0)var r=$("#usd_hotel_id").val().trim();if($("#lkr_hotel_id").length>0)var l=$("#lkr_hotel_id").val().trim();if($("#theme_id").length>0)var o=$("#theme_id").val().trim();if($("#param_ibe_hotel").length>0)var s=$("#param_ibe_hotel").val();if($("#param_ibe_rooms").length>0)var d=$("#param_ibe_rooms").val();if($("#param_ibe_adults").length>0)var c=$("#param_ibe_adults").val();if($("#param_ibe_children").length>0)var u=$("#param_ibe_children").val();var g=$("#datePickerValidate");if($("#rangeestart").length>0&&0!=dateArr.length)var m=(i=dateArr[0]).split("-");else g.show().text("Please select a Check-In Date"),setTimeout(function(){g.hide()},2e3),t++;n="";if($("#rangeend").length>0&&0!=dateArr.length)if(""!=(n=dateArr[1])&&null!=n)var h=n.split("-");else g.show().text("Please select a Check-Out Date"),setTimeout(function(){g.hide()},2e3),t++;if(0==s)var p=a+l,v=l;else if(1==s)p=a+r,v=r;var f="",w="";null!=m&&(f=m[2]+"/"+m[1]+"/"+m[0]),null!=h&&(w=h[2]+"/"+h[1]+"/"+h[0]);if("97774"==v&&0==s&&"&currency=LKR&identifier=RESIDENT","97775"==v&&0==s&&"&currency=LKR&identifier=USDSL",""==i&&($("#rangestart-msg").html("Please Select Arrival Date").fadeIn(200).delay(5e3).fadeOut(200),++t),""==n&&($("#rangeend-msg").html("Please Select Departure Date").fadeIn(200).delay(5e3).fadeOut(200),++t),""==s&&($("#hotel-msg").html("Please Select a Hotel").fadeIn(200).delay(5e3).fadeOut(200),++t),""==c&&($("#adults-msg").html("Please Select No. of Adults").fadeIn(200).delay(5e3).fadeOut(200),++t),0==t){if(""==o)var y="booknow?HotelID="+s+"&DateIn="+f+"&DateOut="+w+"&adults="+c+"&children="+u;else y="booknow?HotelID="+s+"&DateIn="+f+"&DateOut="+w+"&rooms="+d+"&adults="+c+"&children="+u;var b,x;return"undefined"!=typeof ga&&"function"==typeof ga.getAll?(b=ga.getAll()).length&&(x=new window.gaplugins.Linker(b[0]).decorate(y)):x=y,window.open(x,"_blank"),!1}})}function videoFirstslider(){var e=$("#eme-video-slider");e.owlCarousel({loop:!0,margin:10,nav:!1,dots:!1,items:1}),e.on("translate.owl.carousel",function(e){$(".owl-item video").each(function(){$(this).get(0).pause()})}),e.on("translated.owl.carousel",function(e){$(".owl-item.active video").get(0).play()}),isMobile()||($(".owl-item .item").each(function(){var e=$(this).attr("data-videosrc");if(void 0!==e&&!1!==e){var a=$(this).attr("data-videosrc");$(this).prepend('<video muted><source src="'+a+'" type="video/mp4"></video>')}}),$(".owl-item.active video").attr("autoplay",!0).attr("loop",!0))}function isMobile(e){return null==e&&(e=768),window.innerWidth<=e}function select_hotel_corp(){$("#corp-hotel-select").on("change",function(){var e=$(this).val(),a=$(this).parent().find("span.current");return e&&(window.open(e,"_blank"),a.text("Select Hotel")),!1})}$(window).load(function(e){function a(e){return e<=9?"0"+e:e}$(".inner-wrapper").removeClass("hideElem"),$(".fixed-header").removeClass("hideElem"),$(".ibe-booking-container").niceScroll();var t=$("#dtIn"),i=$("#dtOut");if($(".search-calendar").length&&flatpickr("#range",{mode:"range",minDate:"today",altInput:!0,inline:!0,altInputClass:"hidden",allowInput:!1,dateFormat:"Y-m-d",wrap:!0,clickOpens:!1,appendTo:document.querySelectorAll(".ibe-booking-container .dp-datepicker")[0],onChange:function(e,n,r){0!=(dateArr=e.map(function(e){return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())})).length?(t.html("Check-in"),i.html("Check-out"),dateArr.length,null!=dateArr[0]?($("#rangeestart").val(dateArr[0]),t.html(dateArr[0])):t.html("Check-in"),null!=dateArr[1]?($("#rangeend").val(dateArr[1]),i.html(dateArr[1])):(i.html("Check-out"),$("#dtnights").hide())):(t.html("Check-in"),i.html("Check-out"))},onClose:function(e,a,t){var i=e[1],n=e[0],r=moment(i),l=moment(n),o=r.diff(l,"days"),s=$("#dtnights");s.html(""),s.show(),s.html("( "+o+" Nights )")}}),$("#main-menu1").length&&$("#main-menu1").smartmenus().bind("click.smapi",function(e,a){var t=$(this).data("smartmenus");if(t.isCollapsible()){var i=$(a);if(o=i.dataSM("sub"),o&&!o.is(":visible"))return t.itemActivate(i,!0),!1}}),$("#main-menu2").length&&$("#main-menu2").smartmenus().bind("click.smapi",function(e,a){var t=$(this).data("smartmenus");if(t.isCollapsible()){var i=$(a);if(o=i.dataSM("sub"),o&&!o.is(":visible"))return t.itemActivate(i,!0),!1}}),$("#main-menu3").length&&$("#main-menu3").smartmenus().bind("click.smapi",function(e,a){var t=$(this).data("smartmenus");if(t.isCollapsible()){var i=$(a);if(o=i.dataSM("sub"),o&&!o.is(":visible"))return t.itemActivate(i,!0),!1}}),$(".shareparent .menu-toggle").length){var n=$(".menu-toggle");$(".shareparent .menu-toggle, .leftnav-title").click(function(e){e.stopPropagation(),n.toggleClass("open")}),$(".shareparent .menu-toggle").click(function(){$(this).toggleClass("open")})}var r="",l="",s=[],d=[],c="",u="";if("undefined"!=typeof imageArray)for(var g=1;g<imageArray.length;g++)""!=imageArray[g].videourl&&window.matchMedia("(min-width: 1199px)").matches&&(l='<video data-id="'+g+'" id="videoid_'+g+'" class="video-js" controls muted crossorigin autoplay><source src="'+imageArray[g].videourl+'" type="'+imageArray[g].videotype+'"></video>',s[g]="videoid_"+g),""!=imageArray[g].linkurl&&(u='<a href="'+imageArray[g].linkurl+'" class="linkurl clearfix" target="'+imageArray[g].target+'">'+imageArray[g].linktext+"</a>"),""!=imageArray[g].displaytext&&(c='<div class="description '+imageArray[g].displaylocation+'">'+imageArray[g].displaytext+u+"</div>"),r+='<div class="item">'+l+'<picture><source media="(max-width: 768px)" srcset="'+imageArray[g].mobileimgurl+'"><img class="img-responsive" src="'+imageArray[g].desktopimgurl+'" alt="'+imageArray[g].alt+'" title="'+imageArray[g].title+'"></picture>'+c+"</div>",l="",c="",u="","";if("undefined"!=typeof imageArrayfullscreen)for(g=1;g<imageArrayfullscreen.length;g++)""!=imageArrayfullscreen[g].videourl&&window.matchMedia("(min-width: 1199px)").matches&&(l='<video data-id="'+g+'" id="videoid_'+g+'" class="video-js" controls muted crossorigin autoplay><source src="'+imageArrayfullscreen[g].videourl+'" type="'+imageArrayfullscreen[g].videotype+'"></video>',s[g]="videoid_"+g),""!=imageArrayfullscreen[g].linkurl&&(u='<a href="'+imageArrayfullscreen[g].linkurl+'" class="linkurl clearfix" target="'+imageArrayfullscreen[g].target+'">'+imageArrayfullscreen[g].linktext+"</a>"),""!=imageArrayfullscreen[g].displaytext&&(c='<div class="description '+imageArrayfullscreen[g].displaylocation+'">'+imageArrayfullscreen[g].displaytext+u+"</div>"),r+='<div class="item" style="background-image: url('+imageArrayfullscreen[g].desktopimgurl+')">'+l+'<img class="img-responsive" src="'+imageArrayfullscreen[g].mobileimgurl+'" alt="'+imageArrayfullscreen[g].alt+'" title="'+imageArrayfullscreen[g].title+'">'+c+"</div>",l="",c="",u="","";function m(e){e.target;var a,t=e.item.count,i=e.item.index+1-e.relatedTarget._clones.length/2;0==i&&(i=t),i>t&&(i=1),a=t<10?"0":"",i<10?$("#counter").html("0"+i+" -- "+a+t):$("#counter").html(i+" -- "+a+t)}args={items:1,autoplay:!0,loop:!0,dots:!1,animateOut:"fadeOut",onInitialized:m,onTranslated:m,onChanged:function(e){if(s.length&&$.each(s,function(e,a){a&&(d[e]=videojs(a))}),window.matchMedia("(max-width: 1200px)").matches)$("#eme-slider video").each(function(){$(this).get(0).pause()}),$(e.target).trigger("play.owl.autoplay");else{var a=$(e.target).find(".owl-item").eq(e.item.index).has("video");if(a.length){$(e.target).trigger("stop.owl.autoplay"),$("#eme-slider video").each(function(){$(this).get(0).pause()});var t=a.find("video").data("id");d[t].play().on("ended",function(){$(e.target).trigger("play.owl.autoplay")})}else $(e.target).trigger("play.owl.autoplay");a=""}},responsive:{1200:{dots:0,nav:1,navText:navigationArrows}}},$("#eme-slider").length&&"undefined"!=typeof imageArraycount&&1!=imageArraycount&&$("#eme-slider").append(r).owlCarousel(args);var h=[],p=[],v=!1,f={autoplay:!1};function w(e){m(e),$(e.target).trigger("stop.owl.autoplay");for(var a=0;a<h.length;a++)null!=h[a]&&(h[a].pause(),h[a].currentTime(0));if(window.matchMedia("(max-width: 1200px)").matches)$(e.target).trigger("play.owl.autoplay",[5e3]);else{var t=$(e.target).find(".owl-item").eq(e.item.index).has("video");if(t.length){var i=t.find("video").attr("data-id");var n=setInterval(function(){h[i].bufferedPercent()>0&&(clearInterval(n),h[i].play(),h[i].on("ended",function(){$(e.target).trigger("play.owl.autoplay",[300])}))},300)}else $(e.target).trigger("play.owl.autoplay",[5e3]);t=""}}if($("#eme-slider-v2").length){var y={items:1,autoplay:!1,loop:!0,dots:!0,animateOut:"fadeOut",onInitialized:function(e){function a(){0==v&&(v=!0,w(e)),w(e)}$(e.target).find(".owl-item").each(function(e,a){if($(a).find("video").length){$(a).find("video").attr("id","video_"+e),$(a).find("video").attr("data-id",e);var t="video_"+e;p[e]=t}}),p.length?$.each(p,function(e,t){t&&(h[e]=videojs(t,f,a))}):w(e)},onChanged:function(e){v&&w(e),w(e)},responsive:{1200:{nav:1,navText:navigationArrows}}},b="";"undefined"!=typeof videoFirstSliderArray&&(b=videoFirstSliderArray),"undefined"!=typeof videoFirstSliderArraycount&&(videoFirstSliderArraycount>1?$("#eme-slider-v2").append(b).owlCarousel(y):function(){if(window.matchMedia("(min-width: 1200px)").matches&&$("#eme-slider-v2").find("video").length){var e="";$("#eme-slider-v2").find("video").attr("id","single_video_player"),e=videojs("single_video_player",{autoplay:!1,loop:!0},function(){e.play()})}}())}deferload()}),$(window).scroll(function(e){}),$(window).resize(function(e){}),$(document).ready(function(e){$("#param_hotel_select").niceSelect(),$("#param_ibe_hotel").niceSelect(),$("#param_ibe_adults").niceSelect(),$("#corp-hotel-select").niceSelect(),$("#param_ibe_children").niceSelect(),$("#param_ibe_rooms").niceSelect(),$("header .menu-toggle").length&&$("header .menu-toggle").click(function(){$(".main-menu-container").removeClass("rm-expand"),$(this).addClass("open"),$(".main-menu-container").addClass("expand"),$(".ibe-booking-container").hide(),$(".book-now-btn").removeClass("is-active"),$(".sitelist").hide(),window.matchMedia("(min-width: 1200px)").matches&&($(".banner").addClass("pushright"),$(".header").addClass("pushheader"),$(".menucross").hide(),$(window).scroll(function(){$(window).scrollTop()>20?$(".menucross").show():$(".menucross").hide()}))}),$(".menucross").length&&$(".menucross").click(function(){$(".main-menu-container").removeClass("expand"),$(".menu-toggle").removeClass("open"),$(".main-menu-container").addClass("rm-expand"),$(".banner").removeClass("pushright"),$(".header").removeClass("pushheader")}),$(".closeopen").length&&$(".closeopen").click(function(){$(".main-menu-container").removeClass("expand"),$(".menu-toggle").removeClass("open"),$(".main-menu-container").addClass("rm-expand"),$(".banner").removeClass("pushright"),$(".header").removeClass("pushheader")}),$(".book-stay-btn").click(function(e){e.preventDefault(),$("body").addClass("hideScrollr"),$(".ibe-booking-container").slideToggle("fast"),$(this).toggleClass("is-active"),$(".main-menu-container").removeClass("expand"),$(".main-menu-container").removeClass("rm-expand"),$(".menu-toggle").removeClass("open"),$(".sitelist").hide()}),$(".ibecross").length&&$(".ibecross").click(function(){$("body").removeClass("hideScrollr"),$(".ibe-booking-container").hide(),$(".book-now-btn").removeClass("is-active")}),animargs={top:"toggle",opacity:"toggle"},hamburgerdrop(".shareparent .menu-toggle , .leftnav-title","#left-navbar",animargs),$("[data-fancybox]").length&&$("[data-fancybox]").fancybox();owlsonrequireddevicesonly("#carousel-on-devices",767,{loop:!1,margin:15,responsive:{0:{items:1}}}),b={items:1,dots:!1},t={items:2,margin:1,responsive:{0:{dots:!0},768:{items:4}}},syncedowl("#big-images","#thumbs",b,t,"image"),select_hotel_corp(),$("#param_hotel_select").on("change",function(){call_booking_hotel($(this).val())}),call_booking_hotel($("#param_hotel_select option:first").val()),IbeSubmit(),$(".notice-close").on("click",function(){$(".notice-wrapper").hide(),$("body").removeClass("has-notice")})}),$("#param_hotel_select").on("change",function(){var e=this.value;data={action:"get_adult_count",pid:e},$.ajax({type:"POST",url:ajaxurl,data:data,success:function(e){$("#param_ibe_adults").html(e),$("#param_ibe_adults").niceSelect("update"),$(".ibe-booking-container").css("height","100vh"),setTimeout(function(){$(".ibe-booking-container").getNiceScroll().resize()},1e3)}})}),egbargs={items:1,autoplay:0,dots:0,nav:0,navText:['<svg width="15" height="20" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-left-arrow"></use></svg>','<svg width="15" height="20" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-right-arrow"></use></svg>'],responsive:{992:{dots:!1,nav:!1}}},egtargs={items:3,autoplay:0,dots:!0,nav:0,navText:['<svg width="15" height="20" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-left-arrow"></use></svg>','<svg width="15" height="20" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-right-arrow"></use></svg>'],responsive:{992:{dots:!1,items:5}}},syncedowl(".experience-gallery-l-img",".experience-gallery-t-img",egbargs,egtargs,"image");